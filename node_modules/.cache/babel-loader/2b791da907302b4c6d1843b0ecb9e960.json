{"ast":null,"code":"var _jsxFileName = \"/media/oem/Disco1TB/TRABALHO/TestesEmprego/CISS/front-react/src/components/Funcionario.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport ReactDOM from 'react-dom';\nimport Api from './Api';\nimport ListaFuncionarios from './ListaFuncionarios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Funcionario = props => {\n  _s();\n\n  // let [funcionario, setFuncionario] = useState({nome: '', sobrenome: '', email:'' , numeroNIS: ''});\n  let [id, setId] = useState(null);\n  let [nome, setNome] = useState('');\n  let [sobrenome, setSobrenome] = useState('');\n  let [email, setEmail] = useState('');\n  let [numeroNIS, setNumeroNIS] = useState(0);\n  let operacaoTela = props.id ? \"Edição\" : \"Inclusão\";\n\n  const getFuncionario = function () {\n    return {\n      id: id,\n      nome: nome,\n      sobrenome: sobrenome,\n      email: email,\n      numeroNIS: numeroNIS\n    };\n  };\n\n  const setFuncionario = function (obj) {\n    setId(obj.id);\n    setNome(obj.nome);\n    setSobrenome(obj.sobrenome);\n    setEmail(obj.email);\n    setNumeroNIS(obj.numeroNIS);\n  };\n\n  const salvaFuncionario = function () {\n    if (validaFormulario()) {\n      let funcionario = getFuncionario();\n      let method = funcionario.id ? \"PUT\" : \"POST\";\n      Api.call(Api.baseUrl + \"/funcionario/\" + (method === \"POST\" ? \"insert\" : \"update\"), method, funcionario, () => {\n        ReactDOM.render( /*#__PURE__*/_jsxDEV(ListaFuncionarios, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 33\n        }, this), document.getElementById('content'));\n      });\n    }\n  };\n\n  const validaFormulario = () => {\n    let valido = false;\n    let erro = nome.length < 2 ? '\\n* Nome Inválido' : '';\n    erro += sobrenome.length < 2 ? '\\n* Sobrenome Inválido' : '';\n    erro += validaEmail(email) ? '' : '\\n* E-mail inválido';\n\n    if (erro === '') {\n      valido = true;\n    } else {\n      alert(erro);\n    }\n\n    return valido;\n  };\n\n  const validaEmail = email => {\n    let regexEmail = /^[a-z0-9.]+@[a-z0-9]+\\.([a-z]+)?$/i;\n    return regexEmail.test(email);\n  };\n\n  const fechaCadastro = function () {\n    ReactDOM.render( /*#__PURE__*/_jsxDEV(ListaFuncionarios, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 25\n    }, this), document.getElementById('content'));\n  };\n\n  useEffect(() => {\n    if (props.id) {\n      Api.call(Api.baseUrl + \"/funcionario/\" + props.id, \"GET\", null, data => {\n        if (data) {\n          setFuncionario(data);\n        }\n      });\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [operacaoTela, \" de Funcion\\xE1rio \", props.id ? '(' + props.id + ')' : '']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Nome\",\n          name: \"nome\",\n          value: nome,\n          minLength: \"2\",\n          maxLength: \"30\",\n          onChange: e => {\n            setNome(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Sobrenome\",\n          name: \"sobrenome\",\n          minLength: \"2\",\n          maxLength: \"50\",\n          value: sobrenome,\n          onChange: e => {\n            setSobrenome(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          placeholder: \"E-mail\",\n          name: \"email\",\n          value: email,\n          onChange: e => {\n            setEmail(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          placeholder: \"N\\xFAmero NIS\",\n          name: \"numeroNIS\",\n          value: numeroNIS,\n          onChange: e => {\n            setNumeroNIS(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"button\",\n          value: \"Confirma\",\n          className: \"form-btn\",\n          onClick: salvaFuncionario\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"button\",\n          value: \"Fechar\",\n          className: \"form-btn\",\n          onClick: fechaCadastro\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Funcionario, \"x25uPTxky5Foicy1KCo8vYBRnu0=\");\n\n_c = Funcionario;\nexport default Funcionario;\n\nvar _c;\n\n$RefreshReg$(_c, \"Funcionario\");","map":{"version":3,"sources":["/media/oem/Disco1TB/TRABALHO/TestesEmprego/CISS/front-react/src/components/Funcionario.jsx"],"names":["React","useState","useEffect","ReactDOM","Api","ListaFuncionarios","Funcionario","props","id","setId","nome","setNome","sobrenome","setSobrenome","email","setEmail","numeroNIS","setNumeroNIS","operacaoTela","getFuncionario","setFuncionario","obj","salvaFuncionario","validaFormulario","funcionario","method","call","baseUrl","render","document","getElementById","valido","erro","length","validaEmail","alert","regexEmail","test","fechaCadastro","data","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport ReactDOM from 'react-dom';\nimport Api from './Api'\nimport ListaFuncionarios from './ListaFuncionarios'\n\nconst Funcionario = (props) => {\n\n    // let [funcionario, setFuncionario] = useState({nome: '', sobrenome: '', email:'' , numeroNIS: ''});\n\n    let [id, setId] = useState(null);\n    let [nome, setNome] = useState('');\n    let [sobrenome, setSobrenome] = useState('');\n    let [email, setEmail] = useState('');\n    let [numeroNIS, setNumeroNIS] = useState(0);\n    let operacaoTela = props.id ? \"Edição\" : \"Inclusão\";\n    \n    const getFuncionario = function() {\n        return {\n            id: id,\n            nome: nome,\n            sobrenome: sobrenome,\n            email: email,\n            numeroNIS: numeroNIS\n        };\n    }\n\n    const setFuncionario = function(obj) {\n        setId(obj.id);\n        setNome(obj.nome);\n        setSobrenome(obj.sobrenome);\n        setEmail(obj.email);\n        setNumeroNIS(obj.numeroNIS);\n    }\n\n    const salvaFuncionario = function() {\n        if (validaFormulario()) {\n            let funcionario = getFuncionario();\n            let method = funcionario.id ? \"PUT\" : \"POST\";\n            Api.call(Api.baseUrl+\"/funcionario/\"+(method === \"POST\" ? \"insert\" : \"update\"), method, funcionario, () => {\n                ReactDOM.render(<ListaFuncionarios />, document.getElementById('content'));\n            });\n        }\n    }\n\n    const validaFormulario = () => {\n        let valido = false;\n        let erro = nome.length < 2 ? '\\n* Nome Inválido' : '';\n        erro += sobrenome.length < 2 ? '\\n* Sobrenome Inválido' : '';\n        erro += validaEmail(email) ? '' :  '\\n* E-mail inválido'\n        if (erro === '') {\n            valido = true;\n        } else {\n            alert(erro);\n        }\n        return valido;\n    }\n\n    const validaEmail = (email) => {\n        let regexEmail = /^[a-z0-9.]+@[a-z0-9]+\\.([a-z]+)?$/i\n        return regexEmail.test(email);\n    }\n\n    const fechaCadastro = function() {\n        ReactDOM.render(<ListaFuncionarios />, document.getElementById('content'));\n    }\n\n    useEffect(() => {\n        if (props.id) {\n            Api.call(Api.baseUrl+\"/funcionario/\"+props.id, \"GET\", null,  (data) => {\n                if (data) {\n                    setFuncionario(data);\n                }\n            })\n        }\n    }, [])\n\n    return (\n        <div>\n            <div>\n                <div>\n                    <h1>{operacaoTela} de Funcionário {props.id ? '('+props.id+')' : ''}</h1>\n                </div>\n                <div className=\"form\">\n                    <input type='text' placeholder='Nome' name='nome' value={nome} minLength='2' maxLength='30' onChange={(e) => {setNome(e.target.value)}}/>\n                    \n                    <input type='text' placeholder='Sobrenome' name='sobrenome' minLength='2' maxLength='50' value={sobrenome}  onChange={(e) => {setSobrenome(e.target.value)}} />\n                    \n                    <input type='email' placeholder='E-mail' name='email' value={email} onChange={(e) => {setEmail(e.target.value)}} />\n\n                    <input type='number' placeholder='Número NIS' name='numeroNIS' value={numeroNIS} onChange={(e) => {setNumeroNIS(e.target.value)}} />\n                    \n                    <input type='button' value='Confirma' className='form-btn' onClick={salvaFuncionario} />\n                    \n                    <input type='button' value='Fechar' className='form-btn' onClick={fechaCadastro} />\n                </div>\n            </div>\n        </div>\n    )\n}\nexport default Funcionario;"]},"metadata":{},"sourceType":"module"}